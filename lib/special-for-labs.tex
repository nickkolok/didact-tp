\newcounter{labworkcounter}
\setcounter{labworkcounter}{1}

\newcounter{labtaskcounter}[labworkcounter]

\newcommand{\labwork}[1]{
	\newpage
	\phantomsection
	\addcontentsline{toc}{section}{{\thelabworkcounter}. #1}
	\section*{Лабораторная работа №{\thelabworkcounter}}
	\textit{Тема: <<{#1}>>}
	%\vspace{10mm}
	\stepcounter{labworkcounter}
}

\newcommand{\labtask}{
	\stepcounter{labtaskcounter}%Чтобы не с нуля начинать
	\subsection*{Задание \thelabtaskcounter}
}

\newcommand{\reservedtasks}{
	\subsection*{Резервные задания}
}

\newcommand{\typerrors}{
	\subsection*{Типовые ошибки}
}


\newcommand{\labworkquestions}{
	\subsection*{Вопросы к работе}
}

\newcommand{\codeexample}[2]{
	\phantomsection
	\addtocounter{lstlisting}{1}
	\addcontentsline{toc}{section}{\thelstlisting. #1}
	\addtocounter{lstlisting}{-1}
	\lstinputlisting[label=#2,caption={#1}]{cpp-examples/#2.cpp}
}

\newcommand{\codesnippet}[1]{
	\lstinputlisting[caption={}]{#1.cpp}
}

\newcommand{\barecodesnippet}[1]{
	\lstinputlisting[caption={},numbers=none,frame=none]{#1.cpp}
}


\newtheorem{typerrorthm}{Типовая ошибка}
\newenvironment{typerror}[1][]{
	\begin{typerrorthm} #1\ifthenelse{\equal{#1}{}}{}{.}
	\addcontentsline{toc}{section}{{\thetyperrorthm}. #1}
	\par
}{
	\end{typerrorthm}
}
